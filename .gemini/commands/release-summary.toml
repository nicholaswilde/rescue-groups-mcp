description = "Generates a GitHub release summary based on git logs."

prompt = """
You are an expert technical writer specializing in software release notes. Generate a clean, professional GitHub release summary.

**Input Range**: !{ range="{{args}}"; if [ -z "$range" ]; then TAGS=$(git tag --sort=-v:refname | head -n 2); LATEST=$(echo "$TAGS" | sed -n '1p'); PREVIOUS=$(echo "$TAGS" | sed -n '2p'); if [ -z "$PREVIOUS" ]; then range="HEAD"; else range="$PREVIOUS..$LATEST"; fi; fi; echo "$range" }

**Git Log Entries**:
!{ range="{{args}}"; if [ -z "$range" ]; then TAGS=$(git tag --sort=-v:refname | head -n 2); LATEST=$(echo "$TAGS" | sed -n '1p'); PREVIOUS=$(echo "$TAGS" | sed -n '2p'); if [ -z "$PREVIOUS" ]; then range="HEAD"; else range="$PREVIOUS..$LATEST"; fi; fi; git log --pretty=format:"- %s" "$range" }

**Your Task**:
1.  **Categorize** the above commits into these sections (using `###` for headers):
    -   ### :rocket: **New Features** (for `feat` type)
    -   ### :bug: **Bug Fixes** (for `fix` type)
    -   ### :sparkles: **Improvements** (for `refactor`, `perf`, `style` type)
    -   ### :memo: **Documentation** (for `docs` type)
2.  **Clean up** the text:
    -   Strip the type prefix (e.g., "feat:", "fix:").
    -   If a scope is present (e.g., "auth:"), keep it.
    -   Ensure the first letter of each bullet is capitalized.
    -   Use backticks for technical terms (e.g., `reqwest`, `axum`, `AppConfig`).
3.  **Strict Formatting**:
    -   **No line numbers** in code blocks or text.
    -   Use triple backticks (```) for any code blocks.
    -   **Omit sections** that have no changes.
    -   Do not include commit hashes.
  4.  **Tone**: Direct, professional, and technical.
  5.  **Changelog Link**: At the bottom, add a link to the full changelog:
      **Full Changelog**: https://github.com/nicholaswilde/rescue-groups-mcp/compare/!{ range="{{args}}"; if [ -z "$range" ]; then TAGS=$(git tag --sort=-v:refname | head -n 2); LATEST=$(echo "$TAGS" | sed -n '1p'); PREVIOUS=$(echo "$TAGS" | sed -n '2p'); if [ -z "$PREVIOUS" ]; then range="HEAD"; else range="$PREVIOUS..$LATEST"; fi; fi; echo "$range" | sed 's/\\.\\./.../g' }

**Output**:

(Generate the Markdown summary below)
"""
